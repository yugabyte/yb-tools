// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.
//
// The following only applies to changes made to this file as part of YugaByte development.
//
// Portions Copyright (c) YugaByte, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
// in compliance with the License.  You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software distributed under the License
// is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
// or implied.  See the License for the specific language governing permissions and limitations
// under the License.
//
// Test protocol for yb RPC.

// Code generated by protoc-gen-ybrpc. DO NOT EDIT.

package rpc

import (
	"github.com/go-logr/logr"
	"github.com/yugabyte/yb-tools/protoc-gen-ybrpc/pkg/message"
)

// service: yb.rpc_test.CalculatorService
// service: CalculatorService
type CalculatorService interface {
	Add(request *AddRequestPB) (*AddResponsePB, error)
	Sleep(request *SleepRequestPB) (*SleepResponsePB, error)
	Echo(request *EchoRequestPB) (*EchoResponsePB, error)
	RepeatedEcho(request *RepeatedEchoRequestPB) (*RepeatedEchoResponsePB, error)
	WhoAmI(request *WhoAmIRequestPB) (*WhoAmIResponsePB, error)
	TestArgumentsInDiffPackage(request *ReqDiffPackagePB) (*RespDiffPackagePB, error)
	Panic(request *PanicRequestPB) (*PanicResponsePB, error)
	Ping(request *PingRequestPB) (*PingResponsePB, error)
	Disconnect(request *DisconnectRequestPB) (*DisconnectResponsePB, error)
	Forward(request *ForwardRequestPB) (*ForwardResponsePB, error)
	Lightweight(request *LightweightRequestPB) (*LightweightResponsePB, error)
	Trivial(request *TrivialRequestPB) (*TrivialResponsePB, error)
	Sidecar(request *SidecarRequestPB) (*SidecarResponsePB, error)
}

type CalculatorServiceImpl struct {
	Log       logr.Logger
	Messenger message.Messenger
}

func (s *CalculatorServiceImpl) Add(request *AddRequestPB) (*AddResponsePB, error) {
	s.Log.V(1).Info("sending RPC request", "service", "yb.rpc_test.CalculatorService", "method", "Add", "request", request)
	response := &AddResponsePB{}

	err := s.Messenger.SendMessage("yb.rpc_test.CalculatorService", "Add", request.ProtoReflect().Interface(), response.ProtoReflect().Interface())
	if err != nil {
		return nil, err
	}

	s.Log.V(1).Info("received RPC response", "service", "yb.rpc_test.CalculatorService", "method", "Add", "response", response)

	return response, nil
}

func (s *CalculatorServiceImpl) Sleep(request *SleepRequestPB) (*SleepResponsePB, error) {
	s.Log.V(1).Info("sending RPC request", "service", "yb.rpc_test.CalculatorService", "method", "Sleep", "request", request)
	response := &SleepResponsePB{}

	err := s.Messenger.SendMessage("yb.rpc_test.CalculatorService", "Sleep", request.ProtoReflect().Interface(), response.ProtoReflect().Interface())
	if err != nil {
		return nil, err
	}

	s.Log.V(1).Info("received RPC response", "service", "yb.rpc_test.CalculatorService", "method", "Sleep", "response", response)

	return response, nil
}

func (s *CalculatorServiceImpl) Echo(request *EchoRequestPB) (*EchoResponsePB, error) {
	s.Log.V(1).Info("sending RPC request", "service", "yb.rpc_test.CalculatorService", "method", "Echo", "request", request)
	response := &EchoResponsePB{}

	err := s.Messenger.SendMessage("yb.rpc_test.CalculatorService", "Echo", request.ProtoReflect().Interface(), response.ProtoReflect().Interface())
	if err != nil {
		return nil, err
	}

	s.Log.V(1).Info("received RPC response", "service", "yb.rpc_test.CalculatorService", "method", "Echo", "response", response)

	return response, nil
}

func (s *CalculatorServiceImpl) RepeatedEcho(request *RepeatedEchoRequestPB) (*RepeatedEchoResponsePB, error) {
	s.Log.V(1).Info("sending RPC request", "service", "yb.rpc_test.CalculatorService", "method", "RepeatedEcho", "request", request)
	response := &RepeatedEchoResponsePB{}

	err := s.Messenger.SendMessage("yb.rpc_test.CalculatorService", "RepeatedEcho", request.ProtoReflect().Interface(), response.ProtoReflect().Interface())
	if err != nil {
		return nil, err
	}

	s.Log.V(1).Info("received RPC response", "service", "yb.rpc_test.CalculatorService", "method", "RepeatedEcho", "response", response)

	return response, nil
}

func (s *CalculatorServiceImpl) WhoAmI(request *WhoAmIRequestPB) (*WhoAmIResponsePB, error) {
	s.Log.V(1).Info("sending RPC request", "service", "yb.rpc_test.CalculatorService", "method", "WhoAmI", "request", request)
	response := &WhoAmIResponsePB{}

	err := s.Messenger.SendMessage("yb.rpc_test.CalculatorService", "WhoAmI", request.ProtoReflect().Interface(), response.ProtoReflect().Interface())
	if err != nil {
		return nil, err
	}

	s.Log.V(1).Info("received RPC response", "service", "yb.rpc_test.CalculatorService", "method", "WhoAmI", "response", response)

	return response, nil
}

func (s *CalculatorServiceImpl) TestArgumentsInDiffPackage(request *ReqDiffPackagePB) (*RespDiffPackagePB, error) {
	s.Log.V(1).Info("sending RPC request", "service", "yb.rpc_test.CalculatorService", "method", "TestArgumentsInDiffPackage", "request", request)
	response := &RespDiffPackagePB{}

	err := s.Messenger.SendMessage("yb.rpc_test.CalculatorService", "TestArgumentsInDiffPackage", request.ProtoReflect().Interface(), response.ProtoReflect().Interface())
	if err != nil {
		return nil, err
	}

	s.Log.V(1).Info("received RPC response", "service", "yb.rpc_test.CalculatorService", "method", "TestArgumentsInDiffPackage", "response", response)

	return response, nil
}

func (s *CalculatorServiceImpl) Panic(request *PanicRequestPB) (*PanicResponsePB, error) {
	s.Log.V(1).Info("sending RPC request", "service", "yb.rpc_test.CalculatorService", "method", "Panic", "request", request)
	response := &PanicResponsePB{}

	err := s.Messenger.SendMessage("yb.rpc_test.CalculatorService", "Panic", request.ProtoReflect().Interface(), response.ProtoReflect().Interface())
	if err != nil {
		return nil, err
	}

	s.Log.V(1).Info("received RPC response", "service", "yb.rpc_test.CalculatorService", "method", "Panic", "response", response)

	return response, nil
}

func (s *CalculatorServiceImpl) Ping(request *PingRequestPB) (*PingResponsePB, error) {
	s.Log.V(1).Info("sending RPC request", "service", "yb.rpc_test.CalculatorService", "method", "Ping", "request", request)
	response := &PingResponsePB{}

	err := s.Messenger.SendMessage("yb.rpc_test.CalculatorService", "Ping", request.ProtoReflect().Interface(), response.ProtoReflect().Interface())
	if err != nil {
		return nil, err
	}

	s.Log.V(1).Info("received RPC response", "service", "yb.rpc_test.CalculatorService", "method", "Ping", "response", response)

	return response, nil
}

func (s *CalculatorServiceImpl) Disconnect(request *DisconnectRequestPB) (*DisconnectResponsePB, error) {
	s.Log.V(1).Info("sending RPC request", "service", "yb.rpc_test.CalculatorService", "method", "Disconnect", "request", request)
	response := &DisconnectResponsePB{}

	err := s.Messenger.SendMessage("yb.rpc_test.CalculatorService", "Disconnect", request.ProtoReflect().Interface(), response.ProtoReflect().Interface())
	if err != nil {
		return nil, err
	}

	s.Log.V(1).Info("received RPC response", "service", "yb.rpc_test.CalculatorService", "method", "Disconnect", "response", response)

	return response, nil
}

func (s *CalculatorServiceImpl) Forward(request *ForwardRequestPB) (*ForwardResponsePB, error) {
	s.Log.V(1).Info("sending RPC request", "service", "yb.rpc_test.CalculatorService", "method", "Forward", "request", request)
	response := &ForwardResponsePB{}

	err := s.Messenger.SendMessage("yb.rpc_test.CalculatorService", "Forward", request.ProtoReflect().Interface(), response.ProtoReflect().Interface())
	if err != nil {
		return nil, err
	}

	s.Log.V(1).Info("received RPC response", "service", "yb.rpc_test.CalculatorService", "method", "Forward", "response", response)

	return response, nil
}

func (s *CalculatorServiceImpl) Lightweight(request *LightweightRequestPB) (*LightweightResponsePB, error) {
	s.Log.V(1).Info("sending RPC request", "service", "yb.rpc_test.CalculatorService", "method", "Lightweight", "request", request)
	response := &LightweightResponsePB{}

	err := s.Messenger.SendMessage("yb.rpc_test.CalculatorService", "Lightweight", request.ProtoReflect().Interface(), response.ProtoReflect().Interface())
	if err != nil {
		return nil, err
	}

	s.Log.V(1).Info("received RPC response", "service", "yb.rpc_test.CalculatorService", "method", "Lightweight", "response", response)

	return response, nil
}

func (s *CalculatorServiceImpl) Trivial(request *TrivialRequestPB) (*TrivialResponsePB, error) {
	s.Log.V(1).Info("sending RPC request", "service", "yb.rpc_test.CalculatorService", "method", "Trivial", "request", request)
	response := &TrivialResponsePB{}

	err := s.Messenger.SendMessage("yb.rpc_test.CalculatorService", "Trivial", request.ProtoReflect().Interface(), response.ProtoReflect().Interface())
	if err != nil {
		return nil, err
	}

	s.Log.V(1).Info("received RPC response", "service", "yb.rpc_test.CalculatorService", "method", "Trivial", "response", response)

	return response, nil
}

func (s *CalculatorServiceImpl) Sidecar(request *SidecarRequestPB) (*SidecarResponsePB, error) {
	s.Log.V(1).Info("sending RPC request", "service", "yb.rpc_test.CalculatorService", "method", "Sidecar", "request", request)
	response := &SidecarResponsePB{}

	err := s.Messenger.SendMessage("yb.rpc_test.CalculatorService", "Sidecar", request.ProtoReflect().Interface(), response.ProtoReflect().Interface())
	if err != nil {
		return nil, err
	}

	s.Log.V(1).Info("received RPC response", "service", "yb.rpc_test.CalculatorService", "method", "Sidecar", "response", response)

	return response, nil
}

// service: yb.rpc_test.AbacusService
// service: AbacusService
type AbacusService interface {
	Concat(request *ConcatRequestPB) (*ConcatResponsePB, error)
}

type AbacusServiceImpl struct {
	Log       logr.Logger
	Messenger message.Messenger
}

func (s *AbacusServiceImpl) Concat(request *ConcatRequestPB) (*ConcatResponsePB, error) {
	s.Log.V(1).Info("sending RPC request", "service", "yb.rpc_test.AbacusService", "method", "Concat", "request", request)
	response := &ConcatResponsePB{}

	err := s.Messenger.SendMessage("yb.rpc_test.AbacusService", "Concat", request.ProtoReflect().Interface(), response.ProtoReflect().Interface())
	if err != nil {
		return nil, err
	}

	s.Log.V(1).Info("received RPC response", "service", "yb.rpc_test.AbacusService", "method", "Concat", "response", response)

	return response, nil
}
